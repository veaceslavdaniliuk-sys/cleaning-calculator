<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Калькулятор уборки (Админ)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background:#f9f9f9; }
    .container { max-width: 900px; margin:auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1); }
    h1 { text-align:center; }
    label { display:block; margin-top:10px; }
    input, select { width:100%; padding:8px; margin-top:5px; }
    .result { margin-top:20px; font-size:18px; font-weight:bold; }
    .flex { display:flex; gap:20px; flex-wrap:wrap; }
    .half { flex:1; min-width:250px; }
    button { margin-top:15px; padding:10px 20px; background:#007bff; color:white; border:none; border-radius:5px; cursor:pointer; }
    button:hover { background:#0056b3; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Калькулятор уборки (Админ)</h1>

    <div class="flex">
      <div class="half">
        <label>Общая площадь (м²): <input type="number" id="area" value="0"></label>
        <label>Окна (м²): <input type="number" id="windows" value="0"></label>
        
        <label>Мягкая мебель:</label>
        <select id="furniture">
          <option value="0">Нет</option>
          <option value="50-100">Стул (50–100)</option>
          <option value="150-200">Кресло (150–200)</option>
          <option value="400-500">Диван детский (400–500)</option>
          <option value="600-700">Диван 3-х местный (600–700)</option>
          <option value="700-900">Диван угловой короткий (700–900)</option>
          <option value="900-1100">Диван угловой длинный (900–1100)</option>
          <option value="600-800">Кухонный уголок (600–800)</option>
          <option value="400-400">Матрас (1 сторона) 400</option>
          <option value="600-600">Матрас (2 стороны) 600</option>
        </select>

        <label>Бытовая техника:</label>
        <select id="appliances">
          <option value="0">Нет</option>
          <option value="150-250">Холодильник (150–250)</option>
          <option value="200-350">Духовка + плита + вытяжка (200–350)</option>
          <option value="50-100">Микроволновка (50–100)</option>
        </select>
      </div>

      <div class="half">
        <label>Работники (чел): <input type="number" id="workers" value="2"></label>
        <label>Тариф/день (лей): <input type="number" id="rate" value="700"></label>
        <label>Маржа (%): <input type="number" id="margin" value="20"></label>
        <label>Скидка (%): <input type="number" id="discount" value="0"></label>
      </div>
    </div>

    <button onclick="calculate()">Рассчитать</button>
    <div class="result" id="result">Итог: 0 лей</div>
  </div>

  <script>
    function parseRange(value) {
      if (value.includes("-")) {
        let [min,max] = value.split("-").map(Number);
        return [(min+max)/2, min, max];
      } else {
        return [Number(value), Number(value), Number(value)];
      }
    }

    function calculate() {
      let area = Number(document.getElementById("area").value);
      let windows = Number(document.getElementById("windows").value);
      let workers = Number(document.getElementById("workers").value);
      let rate = Number(document.getElementById("rate").value);
      let margin = Number(document.getElementById("margin").value)/100;
      let discount = Number(document.getElementById("discount").value)/100;

      let [furniture, fMin, fMax] = parseRange(document.getElementById("furniture").value);
      let [appliances, aMin, aMax] = parseRange(document.getElementById("appliances").value);

      let base = area * 40 + windows * 90 + furniture + appliances + workers*rate;
      let withMargin = base * (1+margin);
      let finalPrice = withMargin * (1-discount);

      document.getElementById("result").innerText =
        `Итог: ${finalPrice.toFixed(0)} лей (≈ ${withMargin.toFixed(0)} без скидки)`;
    }
  </script>
</body>
</html>
